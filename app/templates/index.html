<!-- index.html -->

{% extends "base.html" %}

{% block content %}

<style>
    /* style.css */

    /* Slideshow container */
    .slideshow-container {
        max-width: 1500px;
        margin: auto;
        overflow: hidden; /* Ensure slides stay within container */
        border: 1px solid #ccc; /* Add border for visual separation */
        background-color: #bdb8c1;
        border-radius: 5px; /* Add border radius for rounded corners */
        position: relative; /* Relative positioning for absolute positioning of product details */
    }

    /* Hide the images by default */
    .slide {
        display: none;
    }

    /* Set fixed width and height for images */
    .slide img {
        width: 60%; /* Adjust the width as needed */
        height: 300px; /* Adjust the height as needed */
        object-fit: cover; /* Maintain aspect ratio */
        float: left; /* Float left for image */
    }

    /* Position the deal information on the right of each product */
    .product-details {
        position: absolute;
        top: 50%;
        right: 0;
        transform: translateY(-50%);
        width: 30%; /* Take 50% width of the container */
        height: auto; /* Auto height */
        padding: 20px;
        box-sizing: border-box; /* Include padding and border in the element's total width and height */
    }
    /* Fade animation for the slides */
    .fade {
        animation: fade 5s infinite;
    }

    /* Define the dots to indicate the slide position */
    .dot {
        height: 15px;
        width: 15px;
        background-color: #bbb;
        border-radius: 50%;
        display: inline-block;
        margin: 0 2px;
        transition: background-color 0.6s ease;
    }

    /* Active dot */
    .active {
        background-color: #717171;
    }

    /* Keyframe animation for fading slides */
    @keyframes fade {
        0% {
            opacity: 0.4;
        }
        20% {
            opacity: 1;
        }
        80% {
            opacity: 1;
        }
        100% {
            opacity: 0.4;
        }
    }

    /* Button style */
    .view-button {
        padding: 10px 20px;
        background-color: #90839c;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
    }

    .view-button:hover {
        background-color: #5f5468;
    }
    .deal-star {
        font-size: 50px; /* Increase font size */
        color: #964a42; /* Change font color */
    }

</style>

<div class="slideshow-container">
    {% for product in deals_products %}
        <div class="slide fade">
            <img src="{{ product.item.pic }}" alt="Product Image">
            <div class="product-details">
                <div class="deal-star">{{ product.deal }}</div>
                <a href="{{ url_for('product_page', Item_ID=product.item_id) }}"><button class="view-button">View Product</button></a>
            </div>
        </div>
    {% endfor %}
</div>
<br>
<div style="text-align:center">
    {% for _ in deals_products %}
        <span class="dot"></span>
    {% endfor %}
</div>

<script>
    // JavaScript for slideshow functionality
    var slideIndex = 0;
    showSlides();

    function showSlides() {
        var i;
        var slides = document.getElementsByClassName("slide");
        var dots = document.getElementsByClassName("dot");
        for (i = 0; i < slides.length; i++) {
            slides[i].style.display = "none";
        }
        slideIndex++;
        if (slideIndex > slides.length) {slideIndex = 1}
        for (i = 0; i < dots.length; i++) {
            dots[i].className = dots[i].className.replace(" active", "");
        }
        slides[slideIndex-1].style.display = "block";
        dots[slideIndex-1].className += " active";
        setTimeout(showSlides, 5000); // Change image every 5 seconds
    }
</script>

{% endblock %}
